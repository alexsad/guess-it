<template>
	<require from="./assets/dash-card.scss" />
	<require from="v3rtigo as v3r" type="namespace" />
	<require from="@/stores/dash-card as dashCardStore" type="script" />
	<require from="@/stores/player as playerStore" type="script" />
	<require from="@/ui/index as ui" type="namespace" />
	<div class="dash-card">
		
		<div class="back-dor" if="!this.isAllowSubmit">
			<ui:loading-bar bar-color="#128A7A" show="${!this.isAllowSubmit}"/>
		</div>
		
		<div if="this.isAllowSubmit && this.id > -1" click.trigger="this.submitCard" class="${'submit-card ' + (this.isAllowSubmit ? 'is-ready' : '')}">
			<i class="guessit-ok"></i>
		</div>
		<img class="${'card-img'}" data-id="${this.id}" src="${this.url}" />
		<v3r:connect-provider store="${dashCardStore.default}" event-type="changeCard" event.handler="this.cardChangeHandler" />
		<v3r:connect-provider store="${playerStore.default}" event.handler="this.playerChangeHandler" />
	</div>
</template>