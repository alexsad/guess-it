<template name="infoBar" args="$this">
	<require from="./assets/info-bar.css!"></require>
	<if condition="$this.$showConfigPlayer">
		<div class="popup-options config-popup">
			<i class="icon-rat" style="{'color':$this.player.color}"></i>
			<label>Novo nome:</label>
			<input type="text" placeholder="Mudar Nome do Player" value="{$this.player.name}" change.trigger="$this.$tmpPlayerName=$event.target.value">
			<span style="font-style:italic;margin:4px;">*válido para a próxima partida</span>
			<button click.trigger="$this.$showConfigPlayer=false;$this.changePlayerName($this.$tmpPlayerName)">OK</button>	
		</div>
	</if>

	<div if="$this.$showPlayers||$this.playerWinner" class="players-list popup-options">
		<if condition="$this.playerWinner">
			<h1>Fim de Jogo!</h1>			
			<h2 style="float: none;">
				<span style="margin-top: 8px; margin-left: 20px;">O vencedor é {$this.playerWinner.name}</span>
				<i class="icon-rat player-score-thumbnail" style="{'color':$this.playerWinner.color,float: 'left', marginTop:'0px'}"></i>
			</h2>
		</if>
		<div 
			each="play in $this.players" 
			title="{play.name}" 
			class="play-info"
			>
			<i class="{'player-score-thumbnail '+(play.status===3?'icon-radom-cards':'icon-rat')}" style="{'color':play.color}"></i>
			<span>
				{play.score} - {play.name} 
			</span>
		</div>	
	</div>

	<div style="float:right" click.trigger="$this.$showPlayers=!$this.$showPlayers;$this.refresh()">
		<i class="icon-users-group btn-show-players"></i>
		<div class="players-count">{$this.players.length}</div>
	</div>
	<i class="icon-rat player-score-thumbnail" click.trigger="$this.$showConfigPlayer=!$this.$showConfigPlayer;$this.refresh()"></i>
	<div class="players-count">{$this.player.score}</div>
	<div if="$this.$showPlayers||$this.$showConfigPlayer||$this.playerWinner" click.trigger="$this.$showPlayers=false;$this.$showConfigPlayer=false;$this.playerWinner=null;$this.refresh()" class="block-content-info"></div>
</template>
